{% extends '_base.html' %}

{% block title %}
GreenChat
{% endblock %}

{% block css %}
{{ super() }}
<link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
{% endblock %}

{% block main %}
<div class="messenger">

    <div class="sidebar">
        <div class="sidebar__title" id="js-user-info">Загрузка...</div>
        <div class="sidebar__search">
            <div class="sidebar__input-wrap">
                <input id="js-search-input" placeholder="Введите ID...">
                <button id="js-search-button">
                    <i class="fa fa-search" aria-hidden="true"></i>
                </button>
            </div>
        </div>
        <!-- Боковая панель со ссылками на все чаты. -->
        <div class="sidebar__links" id="js-all-chats-links"></div>
    </div>

    <!-- Контейнер с полем ввода сообщения и всеми чатами (отображается только один, открытый). -->
    <div class="cur-chat">

        <!-- Контейнер со всеми загруженными чатами. -->
        <div class="chats" id="js-loaded-chats">

            <!-- Фейковый чат для демонстрации пустого чата перед созданием. -->
            <div class="chat chat--hidden" id="js-new-chat">
                <div class="chat__header">
                    <div class="chat__back-link" id="js-new-chat-back-link">
                        <i class="fa fa-caret-left"></i>
                    </div>
                    <div class="chat__name" id="js-new-chat-name"></div>
                </div>
                <div class="chat__messages"></div>
            </div>

        </div>

        <!-- Ввод и отправка сообщения. При старте страницы элемент скрыт. -->
        <div class="cur-chat__input-container" id="js-chat-message-input-container">
            <div class="cur-chat__input-wrap">
                <input type="text" id="js-chat-message-text-input" placeholder="Что же написать...">
                <button id="js-chat-message-button">
                    <i class="fa fa-play"></i>
                </button>
            </div>
        </div>

        <div class="closer" id="js-closer">
            <i class="fa fa-caret-left"></i> <span style="margin-left: 5px;">Выберите чат</span>
        </div>

    </div>

</div>

<!-- Шаблон ссылки на чат для боковой панели. -->
<template id="js-chat-link-temp">
    <div class="chat-link">
        <div class="chat-link__chat-name"></div>
        <div class="chat-link__last-message"></div>
        <div class="chat-link__date"></div>
    </div>
</template>

<!-- Шаблон чата. -->
<template id="js-chat-temp">
    <div class="chat chat--hidden">
        <div class="chat__header">
            <div class="chat__back-link">
                <i class="fa fa-caret-left"></i>
            </div>
            <div class="chat__name"></div>
        </div>
        <div class="chat__messages"></div>
    </div>
</template>

<!-- Шаблон сообщения для чата. -->
<template id="js-chat-message-temp">
    <div class="chat__message">
        <div class="chat__message__name"></div>
        <div class="chat__message__text-wrapper">
            <div class="chat__message__text"></div>
            <div class="chat__message__time"></div>
        </div>
    </div>
</template>

{% endblock %}

{% block js %}
<script src="{{ url_for('static', filename='js/main/init.js') }}" type="module"></script>
{% endblock %}
